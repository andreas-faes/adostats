<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
	google.charts.load('current', {packages: ['corechart', 'bar', 'table']});
	google.charts.setOnLoadCallback(drawTable);
	google.charts.setOnLoadCallback(drawRightY);
	google.charts.setOnLoadCallback(drawPie);
	
    function drawPie() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Test Suite Design Status');
        data.addColumn('number', 'Count');
        data.addRows([
			['3 times', 3],
			['2 times', 10],
			['1 time', 31],
			['None', 251]
        ]);

        var options = { 'width':220,
                       'height':220,
					   'legend': {'position': 'none',
					   'alignment': 'center'},
					   'pieHole': 0.2,
					   'pieSliceText': 'value',
					   'chartArea': {
					      'top': 50,
						  'left': 50,
						  'width': '75%',
						  'height': '75%'
					   },
					   'pieSliceTextStyle': { color: 'black' },
					   'slices': {0: {color: '009CCC'}, 1: {color: '959595'}}};

		var chart = new google.visualization.PieChart(document.getElementById('chart_pie'));
        chart.draw(data, options);
      }
	  
	function drawRightY() {
		var data = google.visualization.arrayToDataTable([
			['', 'Regressions'],
			['3 times', 3],
			['2 times', 10],
			['1 time', 31]
		]);

		var materialOptions = {
			chart: { 
				title: 'Ping Pong bugs',
				subtitle: 'All bugs with at least 1 revert to development of the last 31 days'
			},
			width: '400',
			legend: { position: 'none'},
			bars: 'horizontal',
			axes: {
			  y: {
				0: {side: 'right'}
			  }
			}
		};
		var materialChart = new google.charts.Bar(document.getElementById('chart_div'));
		materialChart.draw(data, materialOptions);
	}
    
	function drawTable() {
		var data = new google.visualization.DataTable();
		data.addColumn('string', 'ID');
		data.addColumn('string', 'Title');
		data.addColumn('number', 'Regressions');
		data.addRows([
			["521285","CGI-002071 - NEW ERA UAT - INBOUND > EW failed in scheduler ",3],
			["529355","CGI-002239 - Teddy - Cannot select holder unit - Highlight suggested Unit.",2],
			["524129","API2POW POST Items /configurations and /configDetails and /configDetailBarcodes /barcode",2],
			["521423","CGI Helpdesk - Stiga & VSG IT - Missing Packing Timereg",2],
			["420977","CGI-002162 - OM - registration in promyses is not done correctly ",3],
			["531977","CGI-002071 - New Era - SuperHolderRetrieval sent to wrong location",2],
			["526748","CGI-002071 - New Era - No Drop off suggestion when exiting holder retrieval",2],
			["534057","CGI-002071 - New Era - Transport Reference remains empty",2],
			["518752","Promesys Report - Wrong values in Boardtable",2],
			["534056","CGI-002071 - New Era - Booking Reference remains empty",3],
			["515470","CGI-002071 - NEW ERA UAT - INBOUND - Still can Modify ASN via API after being linked to TRI",2],
			["520285","CGI-001946 : Velgen - Destination label through Label matrix",2],
			["532837","CGI-002071 - New Era - Holder Retrieval not updated after replenishment to flex location",2]
		]);


		var options = { 
			width: '650',
			pageSize: 5,
			showRowNumber: false,
			sortColumn: 2,
			sortAscending: false,
			alternatingRowStyle: false,
			cssClassNames: { rowNumberCell1: 'titleCell' }
		};
		var table = new google.visualization.Table(document.getElementById('chart_div2'));

		table.draw(data, options);
	}
    </script>
	<style>	
		.title {
			font-family: "Segoe UI", "-apple-system", BlinkMacSystemFont, Roboto, "Helvetica Neue", Helvetica, Ubuntu, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
			font-size: 1rem;
			max-height: 26px;
			padding-right: 32px;
			padding-bottom: 2px;
			width: 100%;
			overflow: hidden;
			white-space: nowrap;
			text-overflow: ellipsis;
			margin: 0;
			font-weight: normal;
		}
		
		.download {
			font-size: 9;
		}
		
		#chart_div2 {
		  margin-top: 10px;
		}
		
		#chart_div {
		  display: inline-block;
		  margin-top: 25px;
		}
		
		#chart_pie {
			display: inline-block;
			margin-left: 10px;
		}
		
		tr td:nth-child(1n+1) {
			width: 50px;
		}
		
		tr td:nth-child(2n+2) {
			width: 400px;
		}
		
		tr td:nth-child(3n+3) {
			width: 80px;
		}
		
		tr {
		    padding-top: 0px;
			margin-top: -50px;
		    height: 20px;
			font-size: 11;
		}
	</style>
  </head>

  <body>
    <div class='title'>CGI: PING PONG BUGS</div>
	<div class='download' >last generated on 21/05/2024 - 08:49   <a href='ping-pong-bugs-21052024.csv'>download (right click > open in new tab)</a></div>
	<div id="wrapper">
		<div id="chart_div"></div>
		<div id="chart_pie">test</div>
	</div>
	<p>Bugs with at least 2 regressions:</p>
	<div id="chart_div2"></div>
  </body>
</html>